(this.webpackJsonptrip_planner=this.webpackJsonptrip_planner||[]).push([[0],{118:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var c=n(45),i=n(0),s=n.n(i),r=n(34),o=n.n(r),a=n(12),l=n(43),j=n(7),d=n(17),b=n(25),O=n(16),u=n(3),h=function(e){var t=Object(c.c)().toggleColorMode,n=Object(c.d)("dark","light"),i=Object(c.d)(O.d,O.f);return Object(u.jsx)(b.b,Object(d.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(u.jsx)(i,{})},e))},x=(n(118),n(11)),f=n(32),m=n.n(f),g=n(49),p=n(21),S=n.n(p),v=n(128),w=n(129),y=n(130),_=n(131),C=n(132),L=(n(120),n(50)),T=function(){var e=Object(g.a)(m.a.mark((function e(t,n,c,i){var s,r,o,a,l,j,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us1.locationiq.com/v1/reverse.php?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactlivewebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCATIONIQ,"&lat=")+t.lat+"&lon="+t.lng+"&format=json").then((function(e){return e.json()}));case 2:return s=e.sent,r=s.address,o=r.city||r.town||r.road||r.suburb,a="".concat(o,", ").concat(r.country),l=[],e.next=9,fetch("https://us1.locationiq.com/v1/nearby.php?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactlivewebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCATIONIQ,"&lat=")+t.lat+"&lon="+t.lng+"&tag=restaurant&radius=3000&format=json").then((function(e){return e.json()})).then((function(e){e.forEach((function(e){l.push({name:e.name,type:e.type,distance:e.distance})})),l.length>3&&(l=l.slice(0,3))})).catch((function(e){return e}));case 9:if(s=e.sent,e.t0=n,!e.t0){e.next=15;break}return e.next=14,fetch("https://dev.virtualearth.net/REST/v1/Routes/DistanceMatrix?origins="+n.lat+","+n.lng+"&destinations="+t.lat+","+t.lng+"&travelMode=driving&key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactlivewebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BING)).then((function(e){return e.json()}));case 14:e.t0=e.sent;case 15:s=e.t0,j=Math.round(100*s.resourceSets[0].resources[0].results[0].travelDistance)/100,d=Math.round(s.resourceSets[0].resources[0].results[0].travelDuration/60*100)/100,localStorage.setItem("my_destinations",JSON.stringify([].concat(Object(L.a)(c),[{LatLng:{lat:Math.round(100*t.lat)/100,lng:Math.round(100*t.lng)/100},name:a,distance:j,duration:d,POI:l,favorite:!1}]))),i((function(e){return[].concat(Object(L.a)(e),[{LatLng:{lat:Math.round(100*t.lat)/100,lng:Math.round(100*t.lng)/100},name:a,distance:j,duration:d}])}));case 20:case"end":return e.stop()}}),e)})));return function(t,n,c,i){return e.apply(this,arguments)}}(),D=n(76),E=n(77),k=S.a.icon({iconUrl:D.a,shadowUrl:E.a});S.a.Marker.prototype.options.icon=k;var I=function(e){var t=e.destinationsState,n=e.positionState,c=Object(x.a)(n,2),i=c[0],r=c[1],o=s.a.useState(""),a=Object(x.a)(o,2),l=a[0],d=a[1],O=s.a.useState(!1),h=Object(x.a)(O,2),f=h[0],p=h[1],S=Object(x.a)(t,2),L=S[0],D=S[1],E=s.a.useState(null),k=Object(x.a)(E,2),I=k[0],A=k[1];function P(){var e=Object(v.a)();return s.a.useEffect((function(){e.locate().on("locationfound",(function(t){A(t.latlng),e.flyTo(t.latlng,12)}))}),[e]),s.a.useEffect((function(){i&&e.flyTo(i,e.getZoom()>12?e.getZoom():12)}),[i]),Object(v.b)({click:function(t){r(t.latlng),e.flyTo(t.latlng,e.getZoom())}}),null===i?null:Object(u.jsx)(w.a,{position:i,children:Object(u.jsx)(y.a,{children:"You chose here"})})}function R(){return(R=Object(g.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t.preventDefault(),e.next=4,T(i,I,L,D);case 4:p(!1),document.getElementById("tabs").scrollIntoView({top:0,left:0,behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){if(i){p(!0);var e,t=i.lat,n=i.lng;(function(){var c=Object(g.a)(m.a.mark((function c(){var i,s;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("https://us1.locationiq.com/v1/reverse.php?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactlivewebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LOCATIONIQ,"&lat=")+t+"&lon="+n+"&format=json").then((function(e){return e.json()}));case 2:e=c.sent,i=e.address,s=i&&(i.city||i.town||i.road||i.suburb),i&&d("".concat(s,", ").concat(i.country));case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()(),p(!1)}}),[i]),Object(u.jsxs)(j.b,{direction:["column","row"],flexBasis:"0",justify:"space-around",children:[Object(u.jsx)("div",{id:"map",style:{order:1},children:Object(u.jsxs)(_.a,{center:{lat:52.52437,lng:13.41053},zoom:12,children:[Object(u.jsx)(C.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),L.map((function(e,t){return Object(u.jsx)(w.a,{position:e.LatLng,children:Object(u.jsxs)(y.a,{children:[e.LatLng.lat,", ",e.LatLng.lng]})},"".concat(i,", ").concat(t))})),Object(u.jsx)(P,{})]})}),Object(u.jsxs)(j.k,{order:[0,1],mb:["10",null],ml:[null,"10"],alignSelf:"center",children:[Object(u.jsx)(j.j,{fontSize:[null,"3xl"],children:!i&&"Choose a location to get started!"}),l&&Object(u.jsx)(j.j,{fontSize:[null,"3xl"],children:l}),i&&Object(u.jsxs)(j.j,{children:["Latitude: ",Math.round(i.lat,1),", Longitude:"," ",Math.round(i.lng)]}),Object(u.jsx)(b.a,{colorScheme:i&&i!==I&&"green",onClick:function(e){return R.apply(this,arguments)},disabled:!i||i===I,isLoading:f,loadingText:"Loading",children:i&&i!==I?"Save Location":"Navigate the map to add a location"})]})]})},A=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(j.b,{w:"100%",justify:"center",children:Object(u.jsx)(j.e,{size:"4xl",w:"100%",textAlign:"center",mb:"10",children:"Project-task-kloudone"})})})},P=function(){return Object(u.jsx)(j.a,{mt:"",children:Object(u.jsx)(j.j,{m:"",fontSize:"",children:Object(u.jsx)(j.f,{isExternal:!0,children:Object(u.jsx)(O.a,{})})})})},R=n(74),z=n(69),N=n(70),W=n(38),F=n(9),M=n(27),H=n(73),K=function(e){var t=e.setDestinations,n=s.a.useState(!1),c=Object(x.a)(n,2),i=c[0],r=c[1],o=function(){return r(!1)},a=s.a.useRef();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.a,{colorScheme:"red",onClick:function(){return r(!0)},children:"Delete All Destinations"}),Object(u.jsx)(H.a,{motionPreset:"slideInBottom",isOpen:i,leastDestructiveRef:a,onClose:o,isCentered:!0,children:Object(u.jsx)(H.f,{children:Object(u.jsxs)(H.c,{children:[Object(u.jsx)(H.e,{fontSize:"lg",fontWeight:"bold",children:"Delete All Destinations"}),Object(u.jsx)(H.b,{children:"Are you sure? You can't undo this action afterwards."}),Object(u.jsxs)(H.d,{children:[Object(u.jsx)(b.a,{ref:a,onClick:o,children:"Cancel"}),Object(u.jsx)(b.a,{colorScheme:"red",onClick:function(){return function(e){window.localStorage.removeItem("my_destinations"),e([])}(t)},ml:3,children:"Delete"})]})]})})})]})},B=function(e){var t=e.destinationsState,n=e.positionState,c=Object(x.a)(n,2),i=(c[0],c[1]),r=Object(x.a)(t,2),o=(r[0],r[1]),a=s.a.useState(!1),l=Object(x.a)(a,2),b=l[0],h=l[1],f=JSON.parse(localStorage.getItem("my_destinations"));return Object(u.jsxs)(j.k,{children:[(null===f||void 0===f?void 0:f.length)>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(z.a,{variant:"simple",mb:"10",children:[Object(u.jsx)(z.e,{children:Object(u.jsxs)(z.f,{children:[Object(u.jsx)(z.d,{children:"Location"}),Object(u.jsx)(z.d,{}),Object(u.jsx)(z.d,{})]})}),Object(u.jsx)(z.b,{fontSize:["0.8em","1em"],children:null===f||void 0===f?void 0:f.map((function(e,t){return Object(u.jsxs)(z.f,{children:[Object(u.jsx)(z.c,{children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(F.a,{as:O.e,cursor:"pointer",color:e.favorite?"yellow":"gray.200",_hover:{color:"yellow"},onClick:function(){var n=Object(L.a)(f),c=Object(d.a)({},e);c.favorite=!c.favorite,n[t]=c,localStorage.setItem("my_destinations",JSON.stringify(n)),o(n)}}),Object(u.jsx)(j.j,{children:e.name})]})}),Object(u.jsx)(z.c,{children:Object(u.jsx)(F.a,{as:O.c,onClick:function(){i(e.LatLng),document.getElementById("map").scrollIntoView({top:0,left:0,behavior:"smooth"})},cursor:"pointer",color:"green"})}),Object(u.jsx)(z.c,{children:Object(u.jsx)(F.a,{as:O.g,onClick:function(){!function(e,t,n){var c=t.indexOf(e);c>-1&&t.splice(c,1),window.localStorage.setItem("my_destinations",JSON.stringify(t)),n(t)}(e,f,o),h(!0)},color:"red",cursor:"pointer"})})]},t)}))})]}),Object(u.jsx)(j.i,{}),Object(u.jsx)(K,{setDestinations:o}),Object(u.jsx)(j.a,{minH:"3em",children:b&&Object(u.jsx)(M.b,{initialScale:.9,in:b,children:Object(u.jsxs)(N.a,{fontSize:"0.9em",status:"success",minW:["15em","20em"],children:[Object(u.jsx)(N.b,{}),"Destination Removed Successfully!",Object(u.jsx)(W.a,{onClick:function(){return h(!1)},position:"absolute",right:"8px",top:"8px"})]})})})]}):null," "]})},U=n(71),J=n(72),V=function(e){e.destinationsState;var t=JSON.parse(localStorage.getItem("my_destinations"));return Object(u.jsx)("div",{children:Object(u.jsx)(U.a,{defaultIndex:[0],fontSize:["0.8em","1em"],children:null===t||void 0===t?void 0:t.map((function(e,t){var n;return Object(u.jsxs)(U.d,{children:[Object(u.jsx)("h2",{children:Object(u.jsxs)(U.b,{_expanded:{fontWeight:"700"},children:[Object(u.jsx)(j.a,{flex:"1",textAlign:"left",m:"1",children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(F.a,{as:O.e,color:"yellow",visibility:e.favorite?"visible":"hidden"}),Object(u.jsx)(j.j,{fontSize:"1.2em",m:1.5,children:e.name})]})}),Object(u.jsx)(U.c,{})]})}),Object(u.jsxs)(U.e,{pb:4,children:[Object(u.jsxs)(j.k,{children:[Object(u.jsx)(j.j,{as:"h2",textAlign:"left",w:"100%",fontWeight:"600",fontSize:"1.1em",children:"Location Details"}),Object(u.jsxs)(j.b,{justify:"space-around",w:"100%",wrap:"wrap",flexDirection:["column","row"],children:[Object(u.jsxs)(J.a,{m:["10",0],children:[Object(u.jsx)(J.c,{children:"Longitude"}),Object(u.jsx)(J.d,{children:Math.round(100*e.LatLng.lat)/100}),Object(u.jsx)(J.b,{children:"Degrees"})]}),Object(u.jsxs)(J.a,{children:[Object(u.jsx)(J.c,{children:"Latitude"}),Object(u.jsx)(J.d,{children:Math.round(100*e.LatLng.lng)/100}),Object(u.jsx)(J.b,{children:"Degrees"})]})]})]}),Object(u.jsxs)(j.k,{mt:"10",children:[Object(u.jsx)(j.j,{as:"h2",textAlign:"left",w:"100%",fontWeight:"600",fontSize:"1.1em",children:"Trip Details"}),Object(u.jsxs)(j.b,{justify:"space-around",w:"100%",wrap:"wrap",flexDirection:["column","row"],children:[Object(u.jsxs)(J.a,{m:["10",0],children:[Object(u.jsx)(J.c,{children:"Distance From Your Location"}),Object(u.jsx)(J.d,{children:e.distance}),Object(u.jsx)(J.b,{children:"KM"})]}),Object(u.jsxs)(J.a,{children:[Object(u.jsx)(J.c,{children:"Driving Duration"}),Object(u.jsx)(J.d,{children:e.duration}),Object(u.jsx)(J.b,{children:"Hours"})]})]})]}),Object(u.jsxs)(j.k,{mt:"10",children:[Object(u.jsx)(j.j,{as:"h2",textAlign:"left",w:"100%",fontWeight:"600",fontSize:"1.1em",children:e.POI&&"Nearby Points of Interest"}),Object(u.jsx)(j.b,{wrap:"wrap",children:null===(n=e.POI)||void 0===n?void 0:n.map((function(e,t){return Object(u.jsxs)(J.a,{m:"10",children:[Object(u.jsx)(J.c,{fontSize:"0.8em",fontStyle:"italic",children:e.type.toUpperCase()}),Object(u.jsx)(J.d,{fontSize:"01em",children:e.name}),Object(u.jsxs)(J.b,{children:[e.distance," metres away"]})]},t)}))})]})]})]},t)}))})})},q=function(e){var t=e.destinationsState,n=e.positionState,c=JSON.parse(localStorage.getItem("my_destinations"));return Object(u.jsx)("div",{id:"tabs",children:Object(u.jsxs)(R.e,{align:"center",isFitted:!0,w:["90vw","55vw"],variant:"enclosed",size:"lg",children:[Object(u.jsxs)(R.b,{children:[Object(u.jsx)(R.a,{children:"Add List"}),Object(u.jsx)(R.a,{children:"Detail List"})]}),Object(u.jsxs)(R.d,{children:[Object(u.jsx)(R.c,{children:c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(j.j,{fontSize:"3xl",textAlign:"left",fontWeight:"600",mt:"5",mb:"5",children:[c.length," Pins"]}),Object(u.jsx)(B,{destinationsState:t,positionState:n})]}):Object(u.jsx)(j.j,{as:"h1",children:"List"})}),Object(u.jsx)(R.c,{children:c?Object(u.jsx)(V,{destinationsState:t}):Object(u.jsx)(j.j,{as:"h1",children:"List"})})]})]})})},Q=function(){var e=s.a.useState(JSON.parse(localStorage.getItem("my_destinations"))||[]),t=Object(x.a)(e,2),n=t[0],c=t[1],i=s.a.useState(null),r=Object(x.a)(i,2),o=r[0],a=r[1];return Object(u.jsxs)(j.k,{spacing:8,children:[Object(u.jsx)(A,{}),Object(u.jsx)(I,{destinationsState:[n,c],positionState:[o,a]}),Object(u.jsx)(q,{destinationsState:[n,c],positionState:[o,a]}),Object(u.jsx)(P,{})]})},Y=n(8),Z=function(e){var t=Object(Y.c)(),n=t.isOpen,c=t.onOpen,i=t.onClose;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.b,Object(d.a)({size:"sm","aria-label":"Site Info",as:O.b,marginRight:"",cursor:"pointer",onClick:c},e)),Object(u.jsxs)(H.g,{onClose:i,isOpen:n,isCentered:!0,children:[Object(u.jsx)(H.m,{}),Object(u.jsxs)(H.j,{children:[Object(u.jsx)(H.l,{fontSize:""}),Object(u.jsx)(H.i,{}),Object(u.jsx)(H.h,{children:Object(u.jsxs)(j.h,{spacing:3,children:[Object(u.jsx)(j.g,{children:"I should be able to add destinations"}),Object(u.jsx)(j.g,{children:"Display points of interest between each destination."}),Object(u.jsx)(j.g,{children:"Use the dates."}),Object(u.jsx)(j.g,{children:"click on a map (with an API call)"}),Object(u.jsx)(j.g,{children:" I'd like my data to be stored in my browsers local storage"})]})}),Object(u.jsx)(H.k,{children:Object(u.jsx)(b.a,{onClick:i,colorScheme:""})})]})]})]})};var G=function(){return Object(u.jsx)(a.a,{theme:l.b,children:Object(u.jsx)(j.a,{textAlign:"center",fontSize:"xl",children:Object(u.jsxs)(j.c,{minH:"100vh",p:3,children:[Object(u.jsxs)(j.d,{justify:"space-between",children:[Object(u.jsx)(Z,{size:"10"}),Object(u.jsx)(h,{})]}),Object(u.jsx)(Q,{})]})})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),s(e),r(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(u.jsxs)(i.StrictMode,{children:[Object(u.jsx)(c.b,{}),Object(u.jsx)(G,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),$()}},[[123,1,2]]]);
//# sourceMappingURL=main.a8937648.chunk.js.map